---
import Layout from "../../layouts/Layout.astro";
import StructuredData from "../../components/StructuredData.astro";
import FAQ from "../../components/FAQ.astro";
import { siteConfig, businessInfo } from "../../config";
import { withBase } from "../../utils/url";

const serviceName = "Laptop Repair";
const serviceDescription =
  "Expert laptop repair services for all brands including Apple, Dell, HP, Lenovo, and more. Fast, reliable repairs with warranty.";

// Service schema
const serviceSchema = {
  "@context": "https://schema.org",
  "@type": "Service",
  serviceType: "Laptop Repair",
  provider: {
    "@type": "LocalBusiness",
    name: businessInfo.name,
    telephone: businessInfo.phone,
    address: {
      "@type": "PostalAddress",
      streetAddress: businessInfo.address.street,
      addressLocality: businessInfo.address.city,
      postalCode: businessInfo.address.postcode,
      addressCountry: businessInfo.address.country,
    },
  },
  areaServed: ["Morden", "Wimbledon", "Kingston", "Sutton", "Croydon", "Epsom"],
  description: serviceDescription,
};

const faqData = [
  {
    question: "What laptop brands do you repair?",
    answer:
      "We repair all major laptop brands including Apple MacBook, Dell, HP, Lenovo, Asus, Acer, Microsoft Surface, and more. Our technicians are experienced with both Windows and Mac laptops.",
  },
  {
    question: "How much does laptop repair cost?",
    answer:
      "Repair costs vary depending on the issue. Screen replacements typically start from £80, keyboard repairs from £60, and motherboard repairs from £150. We provide free diagnostics and transparent quotes before any work begins.",
  },
  {
    question: "How long does laptop repair take?",
    answer:
      "Most laptop repairs are completed within 24-48 hours. Simple repairs like screen or keyboard replacement can often be done same-day. More complex issues like motherboard repair may take 3-5 business days.",
  },
  {
    question: "Do you offer warranty on laptop repairs?",
    answer:
      "Yes, all our laptop repairs come with a 90-day warranty on parts and labor. This covers any defects in the repair work or replacement parts.",
  },
  {
    question: "Can you recover data from a broken laptop?",
    answer:
      "Yes, we offer data recovery services for laptops that won't boot or have damaged hard drives. We can recover your files before or during the repair process.",
  },
];

// Icon map for repair types
const repairIconMap: Record<string, string> = {
  screen: '<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-8 h-8"><path stroke-linecap="round" stroke-linejoin="round" d="M9 17.25v1.007a3 3 0 0 1-.879 2.122L7.5 21h9l-.621-.621A3 3 0 0 1 15 18.257V17.25m6-12V15a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 15V5.25m18 0A2.25 2.25 0 0 0 18.75 3H5.25A2.25 2.25 0 0 0 3 5.25m18 0V12a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 12V5.25" /></svg>',
  keyboard: '<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-8 h-8"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25ZM6.75 12h.008v.008H6.75V12Zm0 3h.008v.008H6.75V15Zm0 3h.008v.008H6.75V18Z" /></svg>',
  battery: '<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-8 h-8"><path stroke-linecap="round" stroke-linejoin="round" d="M3.75 13.5h10.5a2.25 2.25 0 0 0 2.25-2.25V9.75a2.25 2.25 0 0 0-2.25-2.25H3.75M3.75 19.5h10.5a2.25 2.25 0 0 0 2.25-2.25v-1.5a2.25 2.25 0 0 0-2.25-2.25H3.75m0 0v-9m0 9h10.5M3.75 4.5h10.5a2.25 2.25 0 0 1 2.25 2.25v1.5a2.25 2.25 0 0 1-2.25 2.25H3.75V4.5Zm16.5 0v9m0-9h-1.5m1.5 9h-1.5m-9-9v9m0-9h1.5m-1.5 9h1.5" /></svg>',
  motherboard: '<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-8 h-8"><path stroke-linecap="round" stroke-linejoin="round" d="M8.25 3v1.5M4.5 8.25H3m18 0h-1.5M4.5 12H3m18 0h-1.5m-15 3.75H3m18 0h-1.5M8.25 19.5V21M12 3v1.5m0 15V21m3.75-18v1.5m0 15V21m-9-1.5h10.5a2.25 2.25 0 0 0 2.25-2.25V6.75a2.25 2.25 0 0 0-2.25-2.25H6.75A2.25 2.25 0 0 0 4.5 6.75v10.5a2.25 2.25 0 0 0 2.25 2.25Zm.75-12h9v9h-9v-9Z" /></svg>',
  harddrive: '<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-8 h-8"><path stroke-linecap="round" stroke-linejoin="round" d="M20.25 6.375c0 2.278-3.694 4.125-8.25 4.125S3.75 8.653 3.75 6.375m16.5 0c0-2.278-3.694-4.125-8.25-4.125S3.75 4.097 3.75 6.375m16.5 0v11.25c0 2.278-3.694 4.125-8.25 4.125s-8.25-1.847-8.25-4.125V6.375m16.5 0v3.75m-16.5-3.75v3.75m16.5 0v3.75C20.25 16.153 16.556 18 12 18s-8.25-1.847-8.25-4.125v-3.75m16.5 0c0 2.278-3.694 4.125-8.25 4.125s-8.25-1.847-8.25-4.125" /></svg>',
  software: '<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-8 h-8"><path stroke-linecap="round" stroke-linejoin="round" d="M17.25 6.75 22.5 12l-5.25 5.25m-10.5 0L1.5 12l5.25-5.25m7.5-3-4.5 16.5" /></svg>',
  overheating: '<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-8 h-8"><path stroke-linecap="round" stroke-linejoin="round" d="M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z" /></svg>',
  port: '<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-8 h-8"><path stroke-linecap="round" stroke-linejoin="round" d="M13.19 8.688a4.5 4.5 0 0 1 1.242 7.244l-4.5 4.5a4.5 4.5 0 0 1-6.364-6.364l1.757-1.757m13.35-.622 1.757-1.757a4.5 4.5 0 0 0-6.364-6.364l-4.5 4.5a4.5 4.5 0 0 0 1.242 7.244" /></svg>',
};

const commonRepairs = [
  {
    title: "Screen Replacement",
    icon: "screen",
    description: "Cracked or broken laptop screens for all models",
  },
  {
    title: "Keyboard Repair",
    icon: "keyboard",
    description: "Sticky keys, broken keys, or complete keyboard replacement",
  },
  {
    title: "Battery Replacement",
    icon: "battery",
    description: "New batteries for all laptop models",
  },
  {
    title: "Motherboard Repair",
    icon: "motherboard",
    description: "Power issues, charging problems, and component replacement",
  },
  {
    title: "Hard Drive Upgrade",
    icon: "harddrive",
    description: "SSD upgrades for faster performance",
  },
  {
    title: "Software Issues",
    icon: "software",
    description: "Virus removal, operating system reinstallation, driver updates",
  },
  {
    title: "Overheating",
    icon: "overheating",
    description: "Fan cleaning, thermal paste replacement, cooling system repair",
  },
  {
    title: "Port Repair",
    icon: "port",
    description: "USB, HDMI, charging port repairs and replacement",
  },
];

// Common issues images - flexible structure for 1 or multiple images
const commonIssues = [
  {
    imageWebp: "/laptop-repair/cracked-laptop-screen.webp",
    alt: "Cracked laptop screen repair service - professional screen replacement for all laptop brands",
    title: "Cracked Screen Repair",
    description: "Expert screen replacement for damaged or broken laptop displays",
  },
  {
    imageWebp: "/laptop-repair/blue-screen.webp",
    alt: "Laptop software corruption repair - Windows blue screen, hard disk errors, and system recovery service",
    title: "Software Corruption Repair",
    description: "Professional diagnosis and repair of software corruption, hard disk errors, and system boot failures",
  },
  {
    imageWebp: "/laptop-repair/keyboard-repair.webp",
    alt: "Laptop keyboard repair service - broken keys, sticky keys, and keyboard replacement",
    title: "Keyboard Repair",
    description: "Expert keyboard repair and replacement",
  },
];
---

<Layout
  title={serviceName}
  description={serviceDescription}
  canonical={`${siteConfig.url}/services/laptop-repair`}
>
  <StructuredData schema={serviceSchema} />

  <!-- Hero Section -->
  <section class="py-9 bg-dark-section">
    <div class="container mx-auto px-4">
      <div class="max-w-4xl mx-auto animate-fade-in">
        <div class="flex mb-6">
          <div class="w-32 h-1.5 bg-accent-primary rounded-full"></div>
        </div>
        <h1 class="text-4xl font-bold mb-4 text-dark-primary">{serviceName}</h1>
        <p class="text-xl text-dark-secondary mb-8">{serviceDescription}</p>
      </div>
    </div>
  </section>

  <!-- Common Repairs Section -->
  <section class="py-9 bg-dark-darker scroll-reveal">
    <div class="container mx-auto px-4">
      <div class="max-w-6xl mx-auto">
        <div class="prose max-w-none mb-12">
          <h2
            class="text-2xl font-bold mb-8 text-dark-primary border-b-2 border-accent-primary/30 pb-2 inline-block"
          >
            Common Laptop Repairs
          </h2>
        </div>
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
          {commonRepairs.map((repair) => (
            <div class="bg-dark-card rounded-xl border border-dark p-6 hover:border-accent-subtle transition-all duration-200 hover:shadow-lg">
              <div class="text-accent-primary mb-4" set:html={repairIconMap[repair.icon]}></div>
              <h3 class="text-lg font-bold mb-2 text-dark-primary">{repair.title}</h3>
              <p class="text-sm text-dark-secondary leading-relaxed">{repair.description}</p>
            </div>
          ))}
        </div>
      </div>
    </div>
  </section>

  <!-- Common Issues We Fix Section -->
  {commonIssues.length > 0 && (
    <section class="py-9 bg-dark-section scroll-reveal">
      <div class="container mx-auto px-4">
        <div class="max-w-6xl mx-auto">
          <div class="prose max-w-none mb-12">
            <h2
              class="text-2xl font-bold mb-4 text-dark-primary border-b-2 border-accent-primary/30 pb-2 inline-block"
            >
              Common Issues We Fix
            </h2>
            <p class="text-dark-secondary mt-4 max-w-3xl">
              See examples of common laptop issues we repair. Our experienced technicians can diagnose and fix these problems quickly and affordably.
            </p>
          </div>
          <div
            class={`grid grid-cols-1 ${
              commonIssues.length === 1
                ? "md:grid-cols-1 max-w-2xl mx-auto"
                : commonIssues.length === 2
                ? "md:grid-cols-2"
                : "md:grid-cols-2 lg:grid-cols-3"
            } gap-6`}
          >
            {commonIssues.map((issue) => (
              <div class="bg-dark-card rounded-xl border border-dark overflow-hidden hover:border-accent-subtle transition-all duration-200 hover:shadow-lg group">
                <div class="relative overflow-hidden">
                  <img
                    src={issue.imageWebp}
                    alt={issue.alt}
                    loading="lazy"
                    class="w-full h-64 object-cover transition-transform duration-300 group-hover:scale-105"
                  />
                </div>
                {(issue.title || issue.description) && (
                  <div class="p-6">
                    {issue.title && (
                      <h3 class="text-lg font-bold mb-2 text-dark-primary">{issue.title}</h3>
                    )}
                    {issue.description && (
                      <p class="text-sm text-dark-secondary leading-relaxed">{issue.description}</p>
                    )}
                  </div>
                )}
              </div>
            ))}
          </div>
        </div>
      </div>
    </section>
  )}
  <!-- Why Choose Us Section -->
  <section class="py-9 bg-dark-darker scroll-reveal">
    <div class="container mx-auto px-4">
      <div class="max-w-4xl mx-auto">
        <h2 class="text-2xl font-bold mb-4 text-dark-primary">
          Why Choose Us for Laptop Repair?
        </h2>
        <p class="text-dark-secondary mb-4">
          Our experienced technicians have repaired thousands of laptops across
          all major brands. We use genuine or high-quality compatible parts and
          provide transparent pricing with no hidden fees.
        </p>
        <p class="text-dark-secondary">
          We also offer on-site laptop repair services throughout South London and surrounding regions. Contact now to inquire if unsure, making it convenient for businesses and individuals who cannot bring their device to our shop.
        </p>
      </div>
    </div>
  </section>

  <!-- Free Diagnostics Section -->
  <section class="py-9 bg-dark-darker scroll-reveal">
    <div class="container mx-auto px-4">
      <div class="max-w-4xl mx-auto">
        <div
          class="border-l-4 border-accent-primary p-6 mb-12 rounded-lg scroll-reveal shadow-card bg-dark-card border-dark"
        >
          <h3 class="text-xl font-bold mb-2 text-dark-primary">
            Free Diagnostics
          </h3>
          <p class="text-dark-secondary">
            We offer free diagnostics to identify the issue with your laptop.
            You'll receive a detailed report and quote before any repair work
            begins. No obligation to proceed.
          </p>
        </div>
      </div>
    </div>
  </section>

  <!-- FAQ Section -->
  <section class="py-9 bg-dark-section scroll-reveal">
    <div class="container mx-auto px-4">
      <div class="max-w-4xl mx-auto">
        <FAQ questions={faqData} variant="dark" />

        <div class="mt-12 text-center">
          <a
            href={withBase("/contact")}
            class="btn-primary glow-effect inline-block mr-4"
          >
            Book a Repair
          </a>
          <a href={withBase("/services")} class="btn-secondary inline-block">
            View All Services
          </a>
        </div>
      </div>
    </div>
  </section>

  <script>
    // Scroll reveal animation
    const observerOptions = {
      threshold: 0.1,
      rootMargin: "0px 0px -50px 0px",
    };

    const observer = new IntersectionObserver((entries) => {
      entries.forEach((entry) => {
        if (entry.isIntersecting) {
          entry.target.classList.add("revealed");
        }
      });
    }, observerOptions);

    document.querySelectorAll(".scroll-reveal").forEach((el) => {
      observer.observe(el);
    });
  </script>
</Layout>
